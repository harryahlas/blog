<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.53" />

<title>Harry Ahlas - Multi-Condition Data Retrieval Challenges</title>
<meta property="og:title" content="Harry Ahlas - Multi-Condition Data Retrieval Challenges">

<link href='http://earlydemise.com/blog/public/css/github.min.css' rel='stylesheet' type='text/css' />
<link rel="stylesheet" href="http://earlydemise.com/blog/public/css/fonts.css" media="all">
<link rel="stylesheet" href="http://earlydemise.com/blog/public/css/main.css" media="all">

  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="http://earlydemise.com/blog/public/index.html" class="nav-logo">
    <img src="http://earlydemise.com/blog/public/images/harryconf.jpg"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
	<li><a href="http://earlydemise.com/blog/public/about/index.html">About</a></li>
    <li><a href="https://www.linkedin.com/in/harry-ahlas-b471b7137">LinkedIn</a></li>
    <li><a href="https://twitter.com/harry_ahlas">Twitter</a></li>
  </ul>
</nav>
      </header>

<main class="content" role="main">
  <article class="article">
    <span class="article-duration">5 min read</span>
   <!-- <h1 class="article-title">Multi-Condition Data Retrieval Challenges</h1>-->

    <span class="article-date">2019/03/09</span>

	<h3 class="article-subtitle">Multi-Condition Data Retrieval Challenges</h3>

	
<p>There are several different ways to approach a multi-condition query, so why did I choose iterating through a for loop? After reading <a href="index.html">Multi-Condition Data Retrieval</a>, you may be wondering these questions:
<ul> 
	<li>Why didn't Harry just create a temporary table on the server?</li>
	<li>Why run one query per row?</li>
	<li>Why not just make a single SQL query?</li>
</ul> 
<p>All valid questions.

<p>The environment I work in is well-equipped for simple queries where only one dynamic condition needs to be met and the retrieval takes a reasonable amount of time, say less than an hour.  However, when there are two dynamic conditions, as described in our example and a long list of data is needed, we run into several barriers:

<ul> 
	<li>There may be a 1,000 item limit on our data filters</li>
	<li>We may not have permission to write temporary tables</li>
	<li>The connection may timeout on us</li>
</ul>
<p>So a single, gigantic script may not fit within the 1,000 item limit. And we are not allowed to upload the client data to a temporary table.  And even if we get around those challenges, our queries may be limited to one hour of running time before timing out.

<p>Running 1 query per row is highly inefficient but it does solve for those challenges.  Another option, if you want to improve performance, is to paginate and run something like 1,000 rows at a time.  For my needs, the one at a time approach works and is easier to debug. 

<p> These common issues are well-documented <a href="https://stackoverflow.com/questions/4722220/sql-in-clause-1000-item-limit">here</a>, <a href="https://community.oracle.com/thread/235143?start=0&tstart=0">here</a>, and <a href="https://stackoverflow.com/questions/22293807/how-to-create-a-temporary-table-in-oracle-with-read-only-access">here</a>.  The <code>CREATE TABLE AS SELECT * FROM +source table+@+database link+;</code> solution does not work due to other restrictions we face.


<p>Return to the original article here: <a href="index.html">Multi-Condition Data Retrieval</a>.
	
<!--

<p><div class="scrollbox" tabindex="0">
		<pre class="scrollbox-content"><img src="easy_retrieval.gif"></pre>
	</div>


<ul>
	<li>BI drag-and-drop filters are built to handle one condition at a time (either a list of employee numbers or a list of dates, but not one list of employee number and date pairs)</li>
	<li>BI tools often have limitations around the number of items that you can include in a filter, typically 1,000</li>
	<li>Database connections may timeout</li>
	<li>The ability to write temporary tables on the database may be restricted</li>
</ul>
-->
	
	
	


    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <!--<li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>-->
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="http://earlydemise.com/blog/public/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>   
  </body>
</html>

